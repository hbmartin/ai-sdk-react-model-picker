@tailwind base;
@tailwind components;
@tailwind utilities;

/* Default CSS variables for the model picker - RGB format for alpha support */
:root {
  --mp-background: 255 255 255;
  --mp-background-secondary: 249 250 251;
  --mp-foreground: 0 0 0;
  --mp-foreground-secondary: 107 114 128;
  --mp-primary: 59 130 246;
  --mp-primary-hover: 37 99 235;
  --mp-primary-foreground: 255 255 255;
  --mp-border: 224 224 224;
  --mp-border-muted: 229 231 235;
  --mp-muted: 107 114 128;
  --mp-destructive: 239 68 68;
  --mp-destructive-hover: 220 38 38;
  --mp-destructive-foreground: 255 255 255;
  --mp-success: 34 197 94;
  --mp-success-hover: 22 163 74;
  --mp-success-foreground: 255 255 255;
  --mp-warning: 245 158 11;
  --mp-warning-hover: 217 119 6;
  --mp-warning-foreground: 255 255 255;
  --mp-accent: 243 244 246;
  --mp-accent-hover: 229 231 235;
  --mp-accent-foreground: 55 65 81;
  --mp-border-radius: 0.375rem;
}

/* Auto-detect VSCode environment and apply appropriate variables */
body[data-vscode-theme-kind='vscode-dark'],
body[data-vscode-theme-kind='vscode-high-contrast'],
body.vscode-dark,
body.vscode-high-contrast {
  /* Convert VSCode hex values to RGB for alpha support */
  --mp-background: 30 30 30 !important; /* approximates #1e1e1e */
  --mp-background-secondary: 37 37 37 !important;
  --mp-foreground: 212 212 212 !important; /* approximates #d4d4d4 */
  --mp-foreground-secondary: 156 163 175 !important;
  --mp-primary: 14 99 156 !important; /* approximates #0e639c */
  --mp-primary-hover: 37 99 235 !important;
  --mp-border: 70 70 71 !important; /* approximates #464647 */
  --mp-border-muted: 55 55 55 !important;
  --mp-muted: 153 153 153 !important; /* approximates #999999 */
  --mp-accent: 60 60 60 !important; /* approximates #3c3c3c */
  --mp-accent-hover: 75 75 75 !important;
}

body[data-vscode-theme-kind='vscode-light'],
body.vscode-light {
  --mp-background: 255 255 255 !important; /* #ffffff */
  --mp-background-secondary: 249 250 251 !important;
  --mp-foreground: 0 0 0 !important; /* #000000 */
  --mp-foreground-secondary: 107 114 128 !important;
  --mp-primary: 0 102 204 !important; /* approximates #0066cc */
  --mp-primary-hover: 37 99 235 !important;
  --mp-border: 224 224 224 !important; /* approximates #e0e0e0 */
  --mp-border-muted: 229 231 235 !important;
  --mp-muted: 107 114 128 !important; /* approximates #6b7280 */
  --mp-accent: 248 248 248 !important; /* approximates #f8f8f8 */
  --mp-accent-hover: 229 231 235 !important;
}

/* JetBrains IDEs support */
body[data-ide='jetbrains'] {
  --mp-background: var(--intellij-background, #ffffff);
  --mp-foreground: var(--intellij-foreground, #000000);
  --mp-primary: var(--intellij-accent, #4a90e2);
  --mp-border: var(--intellij-border, #d0d0d0);
}

/* Component base styles */
.ai-sdk-model-picker {
  font-family: var(--vscode-font-family, 
    -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell',
    'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif);
  font-size: var(--vscode-font-size, 14px);
  font-weight: var(--vscode-font-weight, normal);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  box-sizing: border-box;
}

/* Ensure all child elements also use border-box */
.ai-sdk-model-picker *,
.ai-sdk-model-picker *::before,
.ai-sdk-model-picker *::after {
  box-sizing: inherit;
}

/* Utility classes for scrollbars */
.no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.no-scrollbar::-webkit-scrollbar {
  display: none;
}

/* Animation for loading states */
@keyframes spin-slow {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.animate-spin-slow {
  animation: spin-slow 2s linear infinite;
}

/* Focus styles */
.focus-ring {
  @apply focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2;
}

/* Dropdown animation */
.dropdown-enter {
  opacity: 0;
  transform: scale(0.95);
}

.dropdown-enter-active {
  opacity: 1;
  transform: scale(1);
  transition:
    opacity 100ms ease-out,
    transform 100ms ease-out;
}

.dropdown-exit {
  opacity: 1;
  transform: scale(1);
}

.dropdown-exit-active {
  opacity: 0;
  transform: scale(0.95);
  transition:
    opacity 75ms ease-in,
    transform 75ms ease-in;
}

/* Provider tag styles */
.provider-tag {
  @apply inline-flex items-center px-2 py-1 text-xs font-medium rounded-md;
}

.provider-tag-requires-key {
  @apply bg-red-100 text-red-800;
}

.provider-tag-local {
  @apply bg-green-100 text-green-800;
}

.provider-tag-free {
  @apply bg-yellow-100 text-yellow-800;
}

.provider-tag-open-source {
  @apply bg-blue-100 text-blue-800;
}

.provider-tag-vision {
  @apply bg-purple-100 text-purple-800;
}

.provider-tag-tools {
  @apply bg-indigo-100 text-indigo-800;
}

.provider-tag-long-context {
  @apply bg-orange-100 text-orange-800;
}

/* VSCode specific overrides */
body[data-vscode-theme-kind='vscode-dark'] .provider-tag-requires-key {
  @apply bg-red-900 text-red-200;
}

body[data-vscode-theme-kind='vscode-dark'] .provider-tag-local {
  @apply bg-green-900 text-green-200;
}

body[data-vscode-theme-kind='vscode-dark'] .provider-tag-free {
  @apply bg-yellow-900 text-yellow-200;
}

body[data-vscode-theme-kind='vscode-dark'] .provider-tag-open-source {
  @apply bg-blue-900 text-blue-200;
}

body[data-vscode-theme-kind='vscode-dark'] .provider-tag-vision {
  @apply bg-purple-900 text-purple-200;
}

body[data-vscode-theme-kind='vscode-dark'] .provider-tag-tools {
  @apply bg-indigo-900 text-indigo-200;
}

body[data-vscode-theme-kind='vscode-dark'] .provider-tag-long-context {
  @apply bg-orange-900 text-orange-200;
}
