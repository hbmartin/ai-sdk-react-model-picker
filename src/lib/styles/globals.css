@tailwind base;
@tailwind components;
@tailwind utilities;

/* Default CSS variables for the model picker */
:root {
  --mp-background: #ffffff;
  --mp-foreground: #000000;
  --mp-primary: #0066cc;
  --mp-border: #e0e0e0;
  --mp-muted: #6b7280;
  --mp-destructive: #ef4444;
  --mp-accent: #f3f4f6;
  --mp-border-radius: 0.375rem;
}

/* Auto-detect VSCode environment and apply appropriate variables */
body[data-vscode-theme-kind='vscode-dark'],
body[data-vscode-theme-kind='vscode-high-contrast'] {
  --mp-background: var(--vscode-editor-background, #1e1e1e);
  --mp-foreground: var(--vscode-editor-foreground, #d4d4d4);
  --mp-primary: var(--vscode-button-background, #0e639c);
  --mp-border: var(--vscode-panel-border, #464647);
  --mp-muted: var(--vscode-descriptionForeground, #ccccccaa);
  --mp-accent: var(--vscode-input-background, #3c3c3c);
}

body[data-vscode-theme-kind='vscode-light'] {
  --mp-background: var(--vscode-editor-background, #ffffff);
  --mp-foreground: var(--vscode-editor-foreground, #000000);
  --mp-primary: var(--vscode-button-background, #0066cc);
  --mp-border: var(--vscode-panel-border, #e0e0e0);
  --mp-muted: var(--vscode-descriptionForeground, #6b7280);
  --mp-accent: var(--vscode-input-background, #f8f8f8);
}

/* JetBrains IDEs support */
body[data-ide='jetbrains'] {
  --mp-background: var(--intellij-background, #ffffff);
  --mp-foreground: var(--intellij-foreground, #000000);
  --mp-primary: var(--intellij-accent, #4a90e2);
  --mp-border: var(--intellij-border, #d0d0d0);
}

/* Component base styles */
.ai-sdk-model-picker {
  font-family: var(--vscode-font-family, 
    -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell',
    'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif);
  font-size: var(--vscode-font-size, 14px);
  font-weight: var(--vscode-font-weight, normal);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  box-sizing: border-box;
}

/* Ensure all child elements also use border-box */
.ai-sdk-model-picker *,
.ai-sdk-model-picker *::before,
.ai-sdk-model-picker *::after {
  box-sizing: inherit;
}

/* Utility classes for scrollbars */
.no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.no-scrollbar::-webkit-scrollbar {
  display: none;
}

/* Animation for loading states */
@keyframes spin-slow {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.animate-spin-slow {
  animation: spin-slow 2s linear infinite;
}

/* Focus styles */
.focus-ring {
  @apply focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2;
}

/* Dropdown animation */
.dropdown-enter {
  opacity: 0;
  transform: scale(0.95);
}

.dropdown-enter-active {
  opacity: 1;
  transform: scale(1);
  transition:
    opacity 100ms ease-out,
    transform 100ms ease-out;
}

.dropdown-exit {
  opacity: 1;
  transform: scale(1);
}

.dropdown-exit-active {
  opacity: 0;
  transform: scale(0.95);
  transition:
    opacity 75ms ease-in,
    transform 75ms ease-in;
}

/* Provider tag styles */
.provider-tag {
  @apply inline-flex items-center px-2 py-1 text-xs font-medium rounded-md;
}

.provider-tag-requires-key {
  @apply bg-red-100 text-red-800;
}

.provider-tag-local {
  @apply bg-green-100 text-green-800;
}

.provider-tag-free {
  @apply bg-yellow-100 text-yellow-800;
}

.provider-tag-open-source {
  @apply bg-blue-100 text-blue-800;
}

.provider-tag-vision {
  @apply bg-purple-100 text-purple-800;
}

.provider-tag-tools {
  @apply bg-indigo-100 text-indigo-800;
}

.provider-tag-long-context {
  @apply bg-orange-100 text-orange-800;
}

/* VSCode specific overrides */
body[data-vscode-theme-kind='vscode-dark'] .provider-tag-requires-key {
  @apply bg-red-900 text-red-200;
}

body[data-vscode-theme-kind='vscode-dark'] .provider-tag-local {
  @apply bg-green-900 text-green-200;
}

body[data-vscode-theme-kind='vscode-dark'] .provider-tag-free {
  @apply bg-yellow-900 text-yellow-200;
}

body[data-vscode-theme-kind='vscode-dark'] .provider-tag-open-source {
  @apply bg-blue-900 text-blue-200;
}

body[data-vscode-theme-kind='vscode-dark'] .provider-tag-vision {
  @apply bg-purple-900 text-purple-200;
}

body[data-vscode-theme-kind='vscode-dark'] .provider-tag-tools {
  @apply bg-indigo-900 text-indigo-200;
}

body[data-vscode-theme-kind='vscode-dark'] .provider-tag-long-context {
  @apply bg-orange-900 text-orange-200;
}
